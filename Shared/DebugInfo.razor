@using TacticView.Data
@using Humanizer
@using Octokit
@using System.Runtime.InteropServices
@using System.Reflection

@inject GitHubQueryService IssuesService

<div style="font-size:.75rem">@($"Limits: {GitHubQueryService.REQUESTS_LEFT}/{GitHubQueryService.REQUESTS_PER_HOUR} resetting {GitHubQueryService.LIMIT_RESET?.Humanize()}")</div>
<div style="font-size:.75rem">@($"{RuntimeInformation.FrameworkDescription} on {RuntimeInformation.OSDescription}")</div>

@code {
    RateLimit limits;

    protected override async Task OnInitializedAsync()
    {
        limits = await IssuesService.GetApiInfo();   
    }
}
